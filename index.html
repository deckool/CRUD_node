<html>
	<body>

	<div id="card">
	</div>

	</body>
	<script type="text/javascript">
		var source = new EventSource('/stream');
		source.addEventListener('getAll', function(e) {
			localStorage ? localStorage.setItem('users', event.data) : console.log('your browser does not support local storage');
			var data = JSON.parse(e.data);
			var div = document.createElement('div');
			for (var i = 0, len = data.length; i < len; i++) {
				var btn = document.createElement("button");
				var t = document.createTextNode("delete");
				btn.appendChild(t);  
				var h2 = document.createElement('h3');
				h2.innerHTML = data[i].forename;
				div.appendChild(h2);
				div.appendChild(btn);	
			}
			var node = document.getElementById('card');
			node.innerHTML = '';
			node.appendChild(div);
		}, false);
	</script>
</html>